<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>WEXAUR Mini -Smart Search </title>
<meta name="theme-color" content="#0f6666">
<style>
  :root{
    --teal:#0F6666; --orange:#F68B1E; --lightgreen:#9ACD32; --purple:#7B3FA0;
    --bg:#ffffff; --card:#ffffff; --muted:#70757a; --border:#dfe1e5;
    font-family:Google Sans,Roboto,Arial,sans-serif;
  }
  *{box-sizing:border-box}
  body{margin:0;min-height:100vh;background:var(--bg);color:#202124;padding:0}
  .wrap{max-width:100%;margin:0 auto}
  
  /* Language Switcher */
  .lang-switcher {
    position: absolute;
    top: 14px;
    right: 70px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .lang-btn {
    background: #f8f9fa;
    border: 1px solid #dadce0;
    border-radius: 16px;
    padding: 4px 12px;
    font-size: 12px;
    cursor: pointer;
    color: #5f6368;
  }
  .lang-btn.active {
    background: #e8f0fe;
    border-color: #1a73e8;
    color: #1a73e8;
  }
  
  /* Header - Google Style */
  .header{display:flex;align-items:center;padding:14px 20px;gap:20px;border-bottom:1px solid #e8eaed}
  .logo{width:92px;height:30px;position:relative}
  .logo-text{
    font-weight:500;font-size:22px;letter-spacing:0.4px;
    background: linear-gradient(90deg, var(--teal), var(--orange), var(--lightgreen), var(--purple));
    -webkit-background-clip:text;background-clip:text;color:transparent;
    display:inline-block;
  }
  .nav-links{display:flex;gap:15px;margin-left:auto;align-items:center}
  .nav-link{color:#5f6368;text-decoration:none;font-size:14px}
  .nav-link:hover{color:#1a73e8}
  .apps-icon{color:#5f6368;font-size:20px;cursor:pointer;padding:8px}
  .apps-icon:hover{background:#f1f3f4;border-radius:50%}
  
  /* Coin System */
  .coin-display{display:flex;align-items:center;gap:8px;background:#f8f9fa;padding:6px 12px;border-radius:20px;font-size:14px;font-weight:500;margin-right:15px;cursor:pointer}
  .coin-icon{color:#F68B1E;font-weight:bold}
  .coin-count{color:#5f6368}
  
  /* Main Content - Google Style */
  .main{display:flex;flex-direction:column;align-items:center;padding-top:120px}
  .logo-large{font-size:90px;font-weight:400;margin-bottom:20px}
  .logo-large span{display:inline-block}
  .logo-large .w{background:linear-gradient(90deg, var(--teal), var(--orange));-webkit-background-clip:text;background-clip:text;color:transparent}
  .logo-large .e{background:linear-gradient(90deg, var(--orange), var(--lightgreen));-webkit-background-clip:text;background-clip:text;color:transparent}
  .logo-large .x{background:linear-gradient(90deg, var(--lightgreen), var(--purple));-webkit-background-clip:text;background-clip:text;color:transparent}
  .logo-large .a{background:linear-gradient(90deg, var(--purple), var(--teal));-webkit-background-clip:text;background-clip:text;color:transparent}
  .logo-large .u{background:linear-gradient(90deg, var(--teal), var(--orange));-webkit-background-clip:text;background-clip:text;color:transparent}
  .logo-large .r{background:linear-gradient(90deg, var(--orange), var(--lightgreen));-webkit-background-clip:text;background-clip:text;color:transparent}
  
  /* Search Box - Google Style */
  .search-container{width:100%;max-width:584px;margin:0 auto;position:relative}
  .search-box{border:1px solid var(--border);border-radius:24px;height:44px;margin:0 auto;width:100%;display:flex;align-items:center;padding:5px 14px}
  .search-box:hover{box-shadow:0 1px 6px rgba(32,33,36,0.28);border-color:rgba(223,225,229,0)}
  .search-icon{color:#9aa0a6;margin-right:13px;display:flex;align-items:center}
  .search-input{flex:1;border:none;outline:none;font-size:16px;background:transparent}
  .voice-icon, .camera-icon{color:#4285f4;margin-left:10px;cursor:pointer;display:flex;align-items:center;padding:8px}
  .voice-icon:hover, .camera-icon:hover{background:#f1f3f4;border-radius:50%}
  
  /* Search Bar */
  .search-bar{display:flex;justify-content:center;margin-top:20px;border-bottom:1px solid #e8eaed;padding-bottom:12px}
  .search-option{color:#5f6368;font-size:14px;margin:0 12px;cursor:pointer;padding:8px 12px;border-radius:4px}
  .search-option:hover{color:#1a73e8;background:#f8f9fa}
  .search-option.active{color:#1a73e8;border-bottom:3px solid #1a73e8}
  
  /* Buttons - Google Style */
  .buttons{display:flex;justify-content:center;gap:12px;margin-top:28px}
  .search-btn, .lucky-btn{background-color:#f8f9fa;border:1px solid #f8f9fa;border-radius:4px;color:#3c4043;font-size:14px;padding:0 16px;height:36px;cursor:pointer}
  .search-btn:hover, .lucky-btn:hover{box-shadow:0 1px 1px rgba(0,0,0,0.1);background-color:#f8f9fa;border:1px solid #dadce0;color:#202124}
  
  /* Discover Section - Google Style */
  .discover-container{max-width:900px;margin:40px auto 0;padding:0 20px}
  .discover-title{font-size:18px;color:#3c4043;margin-bottom:16px;font-weight:500}
  .discover-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}
  .discover-card{background:#ffffff;border:1px solid #e8eaed;border-radius:12px;padding:0;cursor:pointer;transition:all 0.2s;overflow:hidden;box-shadow:0 1px 2px rgba(0,0,0,0.05)}
  .discover-card:hover{box-shadow:0 2px 8px rgba(0,0,0,0.1);transform:translateY(-2px)}
  .discover-card-image{width:100%;height:140px;object-fit:cover;background:#f8f9fa}
  .discover-card-content{padding:12px 16px}
  .discover-card-title{font-weight:500;font-size:16px;color:#1a73e8;margin-bottom:6px}
  .discover-card-desc{font-size:14px;color:#5f6368;margin-bottom:8px;line-height:1.4}
  .discover-card-source{font-size:12px;color:#9aa0a6}
  
  /* Results Page */
  .results-header{display:flex;align-items:center;padding:14px 20px;border-bottom:1px solid #e8eaed}
  .results-logo{width:92px;height:30px}
  .search-box-results{max-width:692px;margin-left:40px;flex:1}
  .search-box-results .search-box{border-radius:8px;height:44px}
  .back-btn{background:none;border:none;color:#1a73e8;cursor:pointer;font-size:14px;padding:8px 12px;border-radius:4px;margin-right:15px}
  .back-btn:hover{background:#f1f3f4}
  
  /* Results Container */
  .results-container{max-width:652px;margin:0 auto;padding:20px}
  .results-info{color:#70757a;font-size:14px;margin-bottom:20px}
  .result-item{margin-bottom:26px}
  .result-url{color:#3c4043;font-size:14px;margin-bottom:4px}
  .result-title{color:#1a0dab;font-size:20px;text-decoration:none;margin-bottom:6px;display:block}
  .result-title:hover{text-decoration:underline}
  .result-snippet{color:#4d5156;font-size:14px;line-height:1.58}
  
  /* Pexels Images Grid */
  .images-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px;margin-top:20px}
  .image-card{border-radius:8px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,0.1);transition:transform 0.2s}
  .image-card:hover{transform:translateY(-4px);box-shadow:0 4px 12px rgba(0,0,0,0.15)}
  .image-card img{width:100%;height:200px;object-fit:cover;display:block}
  .image-info{padding:12px;background:white}
  .image-photographer{font-size:14px;color:#5f6368;margin-bottom:4px}
  .image-download{color:#1a73e8;font-size:13px;text-decoration:none;display:inline-block;margin-top:6px}
  .image-download:hover{text-decoration:underline}
  
  /* Hidden elements */
  .hidden{display:none}
  
  /* Menu Modal */
  .menu-modal{position:fixed;top:0;right:0;width:320px;height:100%;background:white;box-shadow:-2px 0 10px rgba(0,0,0,0.1);z-index:1000;padding:20px;overflow-y:auto;transform:translateX(100%);transition:transform 0.3s}
  .menu-modal.open{transform:translateX(0)}
  .menu-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid #e8eaed}
  .menu-title{font-size:18px;font-weight:500}
  .menu-close{cursor:pointer;padding:8px}
  .menu-section{margin-bottom:24px}
  .menu-section-title{font-size:14px;color:#5f6368;margin-bottom:12px;text-transform:uppercase;font-weight:500}
  .menu-item{display:flex;align-items:center;padding:10px 0;cursor:pointer;border-radius:4px}
  .menu-item:hover{background:#f8f9fa}
  .menu-item-icon{margin-right:12px;color:#5f6368;width:20px;text-align:center}
  .menu-item-text{font-size:14px;color:#202124}
  .theme-options{display:flex;gap:10px;margin-top:8px}
  .theme-option{width:32px;height:32px;border-radius:50%;cursor:pointer;border:2px solid transparent}
  .theme-option.active{border-color:#1a73e8}
  .theme-light{background:#ffffff;border:1px solid #dadce0}
  .theme-dark{background:#202124}
  .theme-blue{background:#1a73e8}
  .theme-teal{background:#0F6666}
  
  /* Coin Rewards Modal */
  .coin-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:2000;display:none;justify-content:center;align-items:center}
  .coin-modal.open{display:flex}
  .coin-modal-content{background:white;border-radius:12px;padding:24px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;position:relative}
  .coin-modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid #e8eaed}
  .coin-modal-title{font-size:20px;font-weight:500}
  .coin-modal-close{cursor:pointer;padding:8px;font-size:20px}
  .coin-tabs{display:flex;border-bottom:1px solid #e8eaed;margin-bottom:20px}
  .coin-tab{padding:12px 20px;cursor:pointer;border-bottom:2px solid transparent;font-size:14px;font-weight:500}
  .coin-tab.active{border-bottom-color:#1a73e8;color:#1a73e8}
  .coin-task-list{display:flex;flex-direction:column;gap:12px}
  .coin-task{display:flex;justify-content:space-between;align-items:center;padding:12px;border:1px solid #e8eaed;border-radius:8px}
  .coin-task-info{display:flex;flex-direction:column;flex:1}
  .coin-task-title{font-weight:500;font-size:14px}
  .coin-task-desc{font-size:12px;color:#5f6368;margin-top:4px}
  .coin-task-progress{font-size:11px;color:#0F6666;margin-top:2px}
  .coin-task-reward{display:flex;align-items:center;gap:6px;font-weight:500;color:#F68B1E;margin-left:10px}
  .coin-task-btn{background:#1a73e8;color:white;border:none;border-radius:4px;padding:6px 12px;font-size:12px;cursor:pointer;display:flex;align-items:center;gap:4px}
  .coin-task-btn:disabled{background:#dadce0;cursor:not-allowed}
  .coin-task-completed{color:#0F6666;font-size:12px;font-weight:500}
  
  /* Social Media Tasks */
  .social-task-actions {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 8px;
  }

  .social-platforms {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
  }

  .social-platform-btn {
    background: #f8f9fa;
    border: 1px solid #dadce0;
    border-radius: 16px;
    padding: 4px 10px;
    font-size: 11px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 4px;
    color: #5f6368;
  }

  .social-platform-btn:hover {
    background: #e8f0fe;
    border-color: #1a73e8;
    color: #1a73e8;
  }

  .screenshot-upload {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  .upload-btn {
    background: #1a73e8;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 6px 12px;
    font-size: 11px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .upload-btn:hover {
    background: #0d62d9;
  }

  .screenshot-preview {
    display: none;
    max-width: 100px;
    max-height: 100px;
    border-radius: 4px;
    border: 1px solid #dadce0;
  }

  /* Screenshot Upload Modal */
  .screenshot-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 4000;
    display: none;
    justify-content: center;
    align-items: center;
  }

  .screenshot-modal.open {
    display: flex;
  }

  .screenshot-modal-content {
    background: white;
    border-radius: 12px;
    padding: 24px;
    max-width: 500px;
    width: 90%;
    text-align: center;
  }

  .screenshot-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .screenshot-modal-title {
    font-size: 20px;
    font-weight: 500;
  }

  .screenshot-modal-close {
    cursor: pointer;
    padding: 8px;
    font-size: 20px;
  }

  .upload-area {
    border: 2px dashed #dadce0;
    border-radius: 8px;
    padding: 40px 20px;
    margin: 20px 0;
    cursor: pointer;
    transition: all 0.3s;
  }

  .upload-area:hover {
    border-color: #1a73e8;
    background: #f8f9fa;
  }

  .upload-area.dragover {
    border-color: #1a73e8;
    background: #e8f0fe;
  }

  .upload-icon {
    font-size: 48px;
    margin-bottom: 16px;
    color: #5f6368;
  }

  .upload-text {
    font-size: 16px;
    color: #5f6368;
    margin-bottom: 8px;
  }

  .upload-subtext {
    font-size: 14px;
    color: #9aa0a6;
  }

  .upload-preview {
    max-width: 200px;
    max-height: 200px;
    margin: 0 auto 20px;
    border-radius: 8px;
    display: none;
  }

  .upload-actions {
    display: flex;
    gap: 12px;
    justify-content: center;
  }

  .confirm-btn, .cancel-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
  }

  .confirm-btn {
    background: #1a73e8;
    color: white;
  }

  .confirm-btn:hover {
    background: #0d62d9;
  }

  .cancel-btn {
    background: #f8f9fa;
    color: #5f6368;
    border: 1px solid #dadce0;
  }

  .cancel-btn:hover {
    background: #e8eaed;
  }

  /* Coming Soon Message */
  .coming-soon-container{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}
  .coming-soon-icon{font-size:64px;margin-bottom:20px;color:#F68B1E}
  .coming-soon-title{font-size:24px;font-weight:500;margin-bottom:12px;color:#202124}
  .coming-soon-desc{font-size:16px;color:#5f6368;max-width:400px;line-height:1.5}
  
  /* Footer */
  .footer{background:#f2f2f2;padding:15px 20px;margin-top:auto}
  .footer-links{display:flex;justify-content:space-between;flex-wrap:wrap}
  .footer-link{color:#70757a;text-decoration:none;font-size:14px;margin-right:20px}
  .footer-link:hover{text-decoration:underline}
  
  /* Loading Spinner */
  .loading-spinner {
    border: 4px solid #f3f3f3;
    border-top: 4px solid #1a73e8;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 2s linear infinite;
    margin: 20px auto;
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  /* Responsive */
  @media(max-width:760px){
    .main{padding-top:80px}
    .logo-large{font-size:60px}
    .search-container{max-width:90%}
    .discover-grid{grid-template-columns:1fr}
    .images-grid{grid-template-columns:repeat(2,1fr)}
    .footer-links{flex-direction:column;gap:10px}
    .search-bar{flex-wrap:wrap;gap:8px}
    .menu-modal{width:100%}
    .back-btn{margin-right:10px}
    .coin-display{margin-right:10px}
    .share-options{grid-template-columns:repeat(2,1fr)}
  }
  
  @media(max-width:480px){
    .images-grid{grid-template-columns:1fr}
    .share-options{grid-template-columns:1fr}
  }
</style>
</head>
<body>
  <!-- Home Page -->
  <div id="homePage">
    <!-- Header -->
    <div class="header">
      <div class="logo">
        <div class="logo-text">WEXAUR Mini</div>
      </div>
      <div class="nav-links">
        <div class="coin-display" id="coinDisplay">
          <span class="coin-icon">ü™ô</span>
          <span class="coin-count" id="coinCount">0</span>
        </div>
        <a href="#" class="nav-link" id="coinTasksLink">Earn Coins</a>
        <a href="#" class="nav-link">Images</a>
        <div class="apps-icon" id="menuToggle">‚ò∞</div>
      </div>
    </div>
    
    <!-- Search Bar -->
    <div class="search-bar">
      <div class="search-option active" data-type="web">All</div>
      <div class="search-option" data-type="images">Images</div>
      <div class="search-option" data-type="videos">Videos</div>
      <div class="search-option" data-type="news">News</div>
      <div class="search-option" data-type="maps">Maps</div>
    </div>
    
    <!-- Main Content -->
    <div class="main">
      <div class="logo-large" id="logoLarge">
        <span class="w">W</span>
        <span class="e">E</span>
        <span class="x">X</span>
        <span class="a">A</span>
        <span class="u">U</span>
        <span class="r">R</span>
      </div>
      
      <!-- Search Box -->
      <div class="search-container">
        <div class="search-box">
          <div class="search-icon">
            <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
              <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#9aa0a6"></path>
            </svg>
          </div>
          <input type="text" class="search-input" id="searchInput" placeholder="Search the web or type a URL">
          <div class="voice-icon" title="Search by voice" id="voiceSearch">
            <svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <path fill="#0F6666" d="m12 15c1.66 0 3-1.31 3-2.97v-7.02c0-1.66-1.34-3.01-3-3.01s-3 1.34-3 3.01v7.02c0 1.66 1.34 2.97 3 2.97z"></path>
              <path fill="#0F6666" d="m11 18.08h2v3.92h-2z"></path>
              <path fill="#0F6666" d="m7.05 16.87c-1.27-1.33-2.05-2.83-2.05-4.87h2c0 1.45 0.56 2.42 1.47 3.38v0.32l-1.15 1.18z"></path>
              <path fill="#0F6666" d="m12 16.93a4.97 5.25 0 0 1 -3.54 -1.55l-1.41 1.49c1.26 1.34 3.02 2.13 4.95 2.13 3.87 0 6.99-2.92 6.99-7h-1.99c0 2.92-2.24 4.93-5 4.93z"></path>
            </svg>
          </div>
          <div class="camera-icon" title="Search by image" id="imageSearch">
            <svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <path fill="#0F6666" d="m14.13 17.46 2.66-4.62c.17-.29.05-.63-.25-.74-.1-.04-.21-.04-.31 0l-2.66 1.91-2.13-3.69c-.17-.29-.55-.38-.84-.21-.1.06-.17.15-.22.26l-2.37 4.11c-.17.29-.05.63.25.74.1.04.21.04.31 0l-2.37-1.7 2.13 3.69c.17.29.55.38.84.21.1-.06.17-.15.22-.26z"></path>
              <circle cx="11.995" cy="12" fill="#0F6666" r="5.5"></circle>
              <path fill="#0F6666" d="m12 17.5c-3.04 0-5.5-2.46-5.5-5.5s2.46-5.5 5.5-5.5 5.5 2.46 5.5 5.5-2.46 5.5-5.5 5.5zm0-9c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5z"></path>
              <path fill="#0F6666" d="m3.5 7.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path>
              <path fill="#0F6666" d="m19.5 2.5h-15c-.83 0-1.5.67-1.5 1.5v15c0 .83.67 1.5 1.5 1.5h15c.83 0 1.5-.67 1.5-1.5v-15c0-.83-.67-1.5-1.5-1.5zm-15 17v-15h15l.0001 15h-15.0001z"></path>
            </svg>
          </div>
        </div>
      </div>
      
      <!-- Buttons -->
      <div class="buttons">
        <button class="search-btn" id="searchBtn">WEXAUR Search</button>
        <button class="lucky-btn">I'm Feeling Lucky</button>
      </div>
      
      <!-- Discover Section - Real News -->
      <div class="discover-container">
        <div class="discover-title">Today's Top Stories</div>
        <div class="discover-grid" id="discoverGrid">
          <div class="discover-card">
            <div class="discover-card-image"></div>
            <div class="discover-card-content">
              <div class="discover-card-title">Loading Today's News...</div>
              <div class="discover-card-desc">Please wait while we load the latest stories</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Footer -->
    <div class="footer">
      <div class="footer-links">
        <div>
          <a href="#" class="footer-link">About WEXAUR</a>
          <a href="#" class="footer-link">Privacy</a>
          <a href="#" class="footer-link">Terms</a>
        </div>
        <div>
          <a href="#" class="footer-link">Settings</a>
          <a href="#" class="footer-link">Help</a>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Results Page -->
  <div id="resultsPage" class="hidden">
    <!-- Header -->
    <div class="results-header">
      <button class="back-btn" id="backBtn">‚Üê Back</button>
      <div class="results-logo">
        <div class="logo-text">WEXAUR Mini</div>
      </div>
      <div class="search-box-results">
        <div class="search-box">
          <div class="search-icon">
            <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
              <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#9aa0a6"></path>
            </svg>
          </div>
          <input type="text" class="search-input" id="resultsSearchInput">
          <div class="voice-icon" title="Search by voice">
            <svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <path fill="#0F6666" d="m12 15c1.66 0 3-1.31 3-2.97v-7.02c0-1.66-1.34-3.01-3-3.01s-3 1.34-3 3.01v7.02c0 1.66 1.34 2.97 3 2.97z"></path>
              <path fill="#0F6666" d="m11 18.08h2v3.92h-2z"></path>
              <path fill="#0F6666" d="m7.05 16.87c-1.27-1.33-2.05-2.83-2.05-4.87h2c0 1.45 0.56 2.42 1.47 3.38v0.32l-1.15 1.18z"></path>
              <path fill="#0F6666" d="m12 16.93a4.97 5.25 0 0 1 -3.54 -1.55l-1.41 1.49c1.26 1.34 3.02 2.13 4.95 2.13 3.87 0 6.99-2.92 6.99-7h-1.99c0 2.92-2.24 4.93-5 4.93z"></path>
            </svg>
          </div>
          <div class="camera-icon" title="Search by image">
            <svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <path fill="#0F6666" d="m14.13 17.46 2.66-4.62c.17-.29.05-.63-.25-.74-.1-.04-.21-.04-.31 0l-2.66 1.91-2.13-3.69c-.17-.29-.55-.38-.84-.21-.1.06-.17.15-.22.26l-2.37 4.11c-.17.29-.05.63.25.74.1.04.21.04.31 0l-2.37-1.7 2.13 3.69c.17.29.55.38.84.21.1-.06.17-.15.22-.26z"></path>
              <circle cx="11.995" cy="12" fill="#0F6666" r="5.5"></circle>
              <path fill="#0F6666" d="m12 17.5c-3.04 0-5.5-2.46-5.5-5.5s2.46-5.5 5.5-5.5 5.5 2.46 5.5 5.5-2.46 5.5-5.5 5.5zm0-9c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5z"></path>
              <path fill="#0F6666" d="m3.5 7.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path>
              <path fill="#0F6666" d="m19.5 2.5h-15c-.83 0-1.5.67-1.5 1.5v15c0 .83.67 1.5 1.5 1.5h15c.83 0 1.5-.67 1.5-1.5v-15c0-.83-.67-1.5-1.5-1.5zm-15 17v-15h15l.0001 15h-15.0001z"></path>
            </svg>
          </div>
        </div>
      </div>
      <div class="nav-links">
        <div class="coin-display" id="resultsCoinDisplay">
          <span class="coin-icon">ü™ô</span>
          <span class="coin-count" id="resultsCoinCount">0</span>
        </div>
        <a href="#" class="nav-link" id="resultsCoinTasksLink">Earn Coins</a>
        <a href="#" class="nav-link">Images</a>
        <div class="apps-icon" id="resultsMenuToggle">‚ò∞</div>
      </div>
    </div>
    
    <!-- Results Container -->
    <div class="results-container">
      <div class="results-info" id="resultsInfo">About 0 results (0 seconds)</div>
      <div id="resultsList">
        <!-- Results will be populated here -->
      </div>
      <div id="imagesResults" class="hidden">
        <!-- Pexels images will be populated here -->
      </div>
    </div>
  </div>
  
  <!-- Menu Modal -->
  <div class="menu-modal" id="menuModal">
    <div class="menu-header">
      <div class="menu-title">WEXAUR Mini Menu</div>
      <div class="menu-close" id="menuClose">‚úï</div>
    </div>
    
    <div class="menu-section">
      <div class="menu-section-title">Theme</div>
      <div class="theme-options">
        <div class="theme-option theme-light active" data-theme="light"></div>
        <div class="theme-option theme-dark" data-theme="dark"></div>
        <div class="theme-option theme-blue" data-theme="blue"></div>
        <div class="theme-option theme-teal" data-theme="teal"></div>
      </div>
    </div>
    
    <div class="menu-section">
      <div class="menu-section-title">Festival Mode</div>
      <div class="menu-item" id="festivalAuto">
        <div class="menu-item-icon">üéâ</div>
        <div class="menu-item-text">Auto Detect Festivals</div>
      </div>
      <div class="menu-item" id="festivalOff">
        <div class="menu-item-icon">üîá</div>
        <div class="menu-item-text">Turn Off Festivals</div>
      </div>
    </div>
    
    <div class="menu-section">
      <div class="menu-section-title">About WEXAUR</div>
      <div class="menu-item">
        <div class="menu-item-icon">‚ÑπÔ∏è</div>
        <div class="menu-item-text">What is WEXAUR?</div>
      </div>
      <div class="menu-item">
        <div class="menu-item-icon">üîç</div>
        <div class="menu-item-text">How Search Works</div>
      </div>
      <div class="menu-item">
        <div class="menu-item-icon">üõ°Ô∏è</div>
        <div class="menu-item-text">Privacy & Security</div>
      </div>
    </div>
    
    <div class="menu-section">
      <div class="menu-section-title">Settings</div>
      <div class="menu-item">
        <div class="menu-item-icon">üåê</div>
        <div class="menu-item-text">Search Language</div>
      </div>
      <div class="menu-item">
        <div class="menu-item-icon">üîî</div>
        <div class="menu-item-text">Notifications</div>
      </div>
      <div class="menu-item">
        <div class="menu-item-icon">üì±</div>
        <div class="menu-item-text">Appearance</div>
      </div>
    </div>
  </div>
  
  <!-- Coin Rewards Modal -->
  <div class="coin-modal" id="coinModal">
    <div class="coin-modal-content">
      <div class="coin-modal-header">
        <div class="coin-modal-title">WEXAUR Rewards</div>
        <div class="coin-modal-close" id="coinModalClose">‚úï</div>
      </div>
      
      <div class="coin-tabs">
        <div class="coin-tab active" data-tab="tasks">Earn Coins</div>
        <div class="coin-tab" data-tab="store">Redeem Store</div>
      </div>
      
      <div id="tasksTab" class="coin-tab-content">
        <div class="coin-task-list" id="coinTaskList">
          <!-- Tasks will be populated here -->
        </div>
      </div>
      
      <div id="storeTab" class="coin-tab-content hidden">
        <div class="coming-soon-container">
          <div class="coming-soon-icon">üõí</div>
          <div class="coming-soon-title">Redeem Store Coming Soon!</div>
          <div class="coming-soon-desc">
            We're working hard to bring you amazing rewards that you can redeem with your coins. 
            Stay tuned for exciting features, premium themes, and exclusive benefits!
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Screenshot Upload Modal -->
  <div class="screenshot-modal" id="screenshotModal">
    <div class="screenshot-modal-content">
      <div class="screenshot-modal-header">
        <div class="screenshot-modal-title">Upload Screenshot</div>
        <div class="screenshot-modal-close" id="screenshotModalClose">‚úï</div>
      </div>
      
      <div class="upload-area" id="uploadArea">
        <div class="upload-icon">üì∏</div>
        <div class="upload-text">Upload your screenshot</div>
        <div class="upload-subtext">Click to select or drag and drop</div>
        <input type="file" id="screenshotInput" accept="image/*" style="display: none">
      </div>
      
      <img id="uploadPreview" class="upload-preview" alt="Preview">
      
      <div class="upload-actions">
        <button class="confirm-btn" id="confirmUpload" disabled>Confirm Upload</button>
        <button class="cancel-btn" id="cancelUpload">Cancel</button>
      </div>
    </div>
  </div>

<script>
/* ====== USER KEYS ====== */
const API_KEY = "AIzaSyBJ5uSrX85HNdOYXUxMMRPIf-HuxfdjO_I";
const CX_ID  = "d4748f519323b4e51";
const PEXELS_API_KEY = "3s77Al0edMc4FXRBSfZ8DQjWwiTaoPTbjWNAeLOXWHAgkwzFExD4Ow6f";
/* ====== END KEYS ====== */

/* DOM Elements */
const homePage = document.getElementById('homePage');
const resultsPage = document.getElementById('resultsPage');
const searchInput = document.getElementById('searchInput');
const resultsSearchInput = document.getElementById('resultsSearchInput');
const searchBtn = document.getElementById('searchBtn');
const discoverGrid = document.getElementById('discoverGrid');
const resultsList = document.getElementById('resultsList');
const imagesResults = document.getElementById('imagesResults');
const resultsInfo = document.getElementById('resultsInfo');
const logoLarge = document.getElementById('logoLarge');
const menuModal = document.getElementById('menuModal');
const menuToggle = document.getElementById('menuToggle');
const resultsMenuToggle = document.getElementById('resultsMenuToggle');
const menuClose = document.getElementById('menuClose');
const voiceSearch = document.getElementById('voiceSearch');
const imageSearch = document.getElementById('imageSearch');
const backBtn = document.getElementById('backBtn');
const coinDisplay = document.getElementById('coinDisplay');
const coinCount = document.getElementById('coinCount');
const resultsCoinDisplay = document.getElementById('resultsCoinDisplay');
const resultsCoinCount = document.getElementById('resultsCoinCount');
const coinTasksLink = document.getElementById('coinTasksLink');
const resultsCoinTasksLink = document.getElementById('resultsCoinTasksLink');
const coinModal = document.getElementById('coinModal');
const coinModalClose = document.getElementById('coinModalClose');
const coinTaskList = document.getElementById('coinTaskList');
const coinTabs = document.querySelectorAll('.coin-tab');

/* Search State */
let currentSearchType = 'web';
let currentQuery = '';

/* Voice Search */
let recognition = null;
if ('webkitSpeechRecognition' in window) {
  recognition = new webkitSpeechRecognition();
  recognition.continuous = false;
  recognition.interimResults = false;
  recognition.lang = 'en-US';
}

/* ====== COIN SYSTEM ====== */

// Coin variables
let userCoins = parseInt(localStorage.getItem('wex_coins')) || 0;
let completedTasks = JSON.parse(localStorage.getItem('wex_completed_tasks')) || {};

// Available tasks - 26 Tasks (18 regular + 8 social)
const COIN_TASKS = [
  {
    id: 'search_10',
    title: 'Perform 10 searches',
    description: 'Use WEXAUR Mini for 10 searches',
    reward: 5,
    progress: 0,
    target: 10,
    type: 'counter'
  },
  {
    id: 'search_50',
    title: 'Perform 50 searches',
    description: 'Use WEXAUR Mini for 50 searches',
    reward: 25,
    progress: 0,
    target: 50,
    type: 'counter'
  },
  {
    id: 'share_10',
    title: 'Share with 10 people',
    description: 'Share WEXAUR Mini with 10 friends',
    reward: 20,
    progress: 0,
    target: 10,
    type: 'counter'
  },
  {
    id: 'share_1',
    title: 'Share with 1 person',
    description: 'Share WEXAUR Mini with a friend',
    reward: 2,
    progress: 0,
    target: 1,
    type: 'counter'
  },
  {
    id: 'story',
    title: 'Post a story about WEXAUR',
    description: 'Share WEXAUR Mini in your social media story',
    reward: 15,
    type: 'one_time'
  },
  {
    id: 'use_10min',
    title: 'Use WEXAUR for 10 minutes',
    description: 'Spend 10 minutes using WEXAUR Mini',
    reward: 10,
    type: 'one_time'
  },
  {
    id: 'use_30min',
    title: 'Use WEXAUR for 30 minutes',
    description: 'Spend 30 minutes using WEXAUR Mini',
    reward: 30,
    type: 'one_time'
  },
  {
    id: 'daily_login',
    title: 'Daily login',
    description: 'Visit WEXAUR Mini today',
    reward: 1,
    type: 'daily'
  },
  {
    id: 'daily_login_7',
    title: 'Login for 7 days',
    description: 'Visit WEXAUR Mini for 7 consecutive days',
    reward: 10,
    progress: 0,
    target: 7,
    type: 'counter'
  },
  {
    id: 'image_search',
    title: 'Perform an image search',
    description: 'Use the image search feature',
    reward: 3,
    type: 'one_time'
  },
  {
    id: 'voice_search',
    title: 'Use voice search',
    description: 'Try the voice search feature',
    reward: 3,
    type: 'one_time'
  },
  {
    id: 'news_read',
    title: 'Read 5 news articles',
    description: 'Click and read 5 news articles',
    reward: 8,
    progress: 0,
    target: 5,
    type: 'counter'
  },
  {
    id: 'news_read_20',
    title: 'Read 20 news articles',
    description: 'Click and read 20 news articles',
    reward: 25,
    progress: 0,
    target: 20,
    type: 'counter'
  },
  {
    id: 'discover_click',
    title: 'Click on 3 discover items',
    description: 'Explore 3 items in the discover section',
    reward: 5,
    progress: 0,
    target: 3,
    type: 'counter'
  },
  {
    id: 'discover_click_10',
    title: 'Click on 10 discover items',
    description: 'Explore 10 items in the discover section',
    reward: 15,
    progress: 0,
    target: 10,
    type: 'counter'
  },
  {
    id: 'video_search',
    title: 'Search for videos',
    description: 'Use the video search feature',
    reward: 3,
    type: 'one_time'
  },
  {
    id: 'maps_search',
    title: 'Search for maps',
    description: 'Use the maps search feature',
    reward: 3,
    type: 'one_time'
  },
  {
    id: 'lucky_feeling',
    title: 'Use "I\'m Feeling Lucky"',
    description: 'Try the I\'m Feeling Lucky button',
    reward: 2,
    type: 'one_time'
  },
  // Social Media Tasks
  {
    id: 'instagram_post',
    title: 'Post on Instagram',
    description: 'Share WEXAUR Mini on Instagram',
    reward: 15,
    type: 'social',
    platform: 'instagram'
  },
  {
    id: 'instagram_story',
    title: 'Instagram Story',
    description: 'Share WEXAUR in your Instagram story',
    reward: 10,
    type: 'social',
    platform: 'instagram'
  },
  {
    id: 'facebook_post',
    title: 'Facebook Post',
    description: 'Share WEXAUR Mini on Facebook',
    reward: 12,
    type: 'social',
    platform: 'facebook'
  },
  {
    id: 'twitter_tweet',
    title: 'Twitter Tweet',
    description: 'Tweet about WEXAUR Mini',
    reward: 8,
    type: 'social',
    platform: 'twitter'
  },
  {
    id: 'youtube_mention',
    title: 'YouTube Mention',
    description: 'Mention WEXAUR in YouTube comments',
    reward: 20,
    type: 'social',
    platform: 'youtube'
  },
  {
    id: 'whatsapp_share',
    title: 'WhatsApp Share',
    description: 'Share WEXAUR with WhatsApp contacts',
    reward: 5,
    type: 'social',
    platform: 'whatsapp'
  },
  {
    id: 'linkedin_post',
    title: 'LinkedIn Post',
    description: 'Post about WEXAUR on LinkedIn',
    reward: 18,
    type: 'social',
    platform: 'linkedin'
  },
  {
    id: 'telegram_share',
    title: 'Telegram Share',
    description: 'Share WEXAUR in Telegram groups',
    reward: 8,
    type: 'social',
    platform: 'telegram'
  }
];

// Platform icons
const PLATFORM_ICONS = {
  instagram: 'üì∑',
  facebook: 'üë•', 
  twitter: 'üê¶',
  youtube: 'üì∫',
  whatsapp: 'üí¨',
  linkedin: 'üíº',
  telegram: 'üì°'
};

// Current task for screenshot upload
let currentScreenshotTask = null;

// Coin display update function
function updateCoinDisplay() {
  document.getElementById('coinCount').textContent = userCoins;
  if (document.getElementById('resultsCoinCount')) {
    document.getElementById('resultsCoinCount').textContent = userCoins;
  }
  localStorage.setItem('wex_coins', userCoins.toString());
}

// Award coins function
function awardCoins(amount, taskId) {
  userCoins += amount;
  updateCoinDisplay();
  
  // Show coin animation
  const coinAnimation = document.createElement('div');
  coinAnimation.style.position = 'fixed';
  coinAnimation.style.top = '50%';
  coinAnimation.style.left = '50%';
  coinAnimation.style.transform = 'translate(-50%, -50%)';
  coinAnimation.style.fontSize = '48px';
  coinAnimation.style.zIndex = '3000';
  coinAnimation.style.animation = 'coinPop 1s forwards';
  coinAnimation.innerHTML = `ü™ô +${amount}`;
  document.body.appendChild(coinAnimation);
  
  setTimeout(() => {
    document.body.removeChild(coinAnimation);
  }, 1000);
  
  // Mark task as completed
  if (taskId) {
    completedTasks[taskId] = true;
    localStorage.setItem('wex_completed_tasks', JSON.stringify(completedTasks));
  }
}

// Task progress update function
function updateTaskProgress(taskId, increment = 1) {
  const task = COIN_TASKS.find(t => t.id === taskId);
  if (!task || completedTasks[taskId]) return;
  
  if (task.type === 'counter') {
    const progressKey = `wex_task_${taskId}_progress`;
    let currentProgress = parseInt(localStorage.getItem(progressKey)) || 0;
    currentProgress += increment;
    
    if (currentProgress >= task.target) {
      awardCoins(task.reward, taskId);
      localStorage.removeItem(progressKey);
    } else {
      localStorage.setItem(progressKey, currentProgress.toString());
    }
  } else if (task.type === 'one_time' && !completedTasks[taskId]) {
    awardCoins(task.reward, taskId);
  } else if (task.type === 'daily' && !completedTasks[taskId]) {
    awardCoins(task.reward, taskId);
  }
}

// Daily login check
function checkDailyLogin() {
  const today = new Date().toDateString();
  const lastLogin = localStorage.getItem('wex_last_login');
  
  if (lastLogin !== today) {
    updateTaskProgress('daily_login');
    
    // Update consecutive login count
    const lastLoginDate = lastLogin ? new Date(lastLogin) : null;
    const todayDate = new Date();
    
    if (lastLoginDate && (todayDate - lastLoginDate) / (1000 * 60 * 60 * 24) === 1) {
      // Consecutive login
      updateTaskProgress('daily_login_7');
    } else {
      // Reset consecutive count if broken
      localStorage.setItem('wex_task_daily_login_7_progress', '1');
    }
    
    localStorage.setItem('wex_last_login', today);
  }
}

// Function to share on social media
function shareOnPlatform(platform, taskId) {
  const shareUrls = {
    instagram: 'https://www.instagram.com/',
    facebook: 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(window.location.href),
    twitter: 'https://twitter.com/intent/tweet?text=' + encodeURIComponent('Check out WEXAUR Mini - Amazing search engine! üîç') + '&url=' + encodeURIComponent(window.location.href),
    youtube: 'https://www.youtube.com/',
    whatsapp: 'https://api.whatsapp.com/send?text=' + encodeURIComponent('Check out WEXAUR Mini: ' + window.location.href),
    linkedin: 'https://www.linkedin.com/sharing/share-offsite/?url=' + encodeURIComponent(window.location.href),
    telegram: 'https://t.me/share/url?url=' + encodeURIComponent(window.location.href) + '&text=' + encodeURIComponent('Check out WEXAUR Mini!')
  };
  
  // Open share window
  window.open(shareUrls[platform], '_blank', 'width=600,height=400');
  
  // Show screenshot upload option
  showScreenshotUpload(taskId, platform);
}

// Function to show screenshot upload modal
function showScreenshotUpload(taskId, platform) {
  currentScreenshotTask = { taskId, platform };
  const modal = document.getElementById('screenshotModal');
  modal.classList.add('open');
  
  // Reset upload area
  document.getElementById('uploadPreview').style.display = 'none';
  document.getElementById('confirmUpload').disabled = true;
}

// Function to handle screenshot upload
function handleScreenshotUpload(taskId) {
  if (currentScreenshotTask && currentScreenshotTask.taskId === taskId) {
    // Award coins for completing the task
    const task = COIN_TASKS.find(t => t.id === taskId);
    if (task && !completedTasks[taskId]) {
      awardCoins(task.reward, taskId);
      alert(`üéâ Congratulations! You earned ${task.reward} coins for sharing on ${currentScreenshotTask.platform}!`);
    }
    
    // Close modal
    document.getElementById('screenshotModal').classList.remove('open');
    currentScreenshotTask = null;
    
    // Re-render tasks to update completion status
    renderCoinTasks();
  }
}

// Enhanced task rendering with social media buttons
function renderCoinTasks() {
  const coinTaskList = document.getElementById('coinTaskList');
  if (!coinTaskList) return;
  
  coinTaskList.innerHTML = '';
  
  COIN_TASKS.forEach(task => {
    const taskElement = document.createElement('div');
    taskElement.className = 'coin-task';
    
    const isCompleted = completedTasks[task.id];
    const progressKey = `wex_task_${task.id}_progress`;
    let currentProgress = parseInt(localStorage.getItem(progressKey)) || 0;
    
    let taskContent = '';
    
    if (task.type === 'counter') {
      taskContent = `
        <div class="coin-task-info">
          <div class="coin-task-title">${task.title}</div>
          <div class="coin-task-desc">${task.description}</div>
          ${!isCompleted ? `<div class="coin-task-progress">Progress: ${currentProgress}/${task.target}</div>` : ''}
        </div>
        <div class="coin-task-reward">
          ${isCompleted ? '<span class="coin-task-completed">Completed!</span>' : `<span>+${task.reward}</span><span class="coin-icon">ü™ô</span>`}
        </div>
      `;
    } else if (task.type === 'social') {
      taskContent = `
        <div class="coin-task-info">
          <div class="coin-task-title">${task.title}</div>
          <div class="coin-task-desc">${task.description}</div>
          ${!isCompleted ? `
            <div class="social-task-actions">
              <div class="social-platforms">
                <button class="social-platform-btn" onclick="shareOnPlatform('${task.platform}', '${task.id}')">
                  ${PLATFORM_ICONS[task.platform]} Share on ${task.platform.charAt(0).toUpperCase() + task.platform.slice(1)}
                </button>
              </div>
              <div class="screenshot-upload">
                <button class="upload-btn" onclick="showScreenshotUpload('${task.id}', '${task.platform}')">
                  üì∏ Upload Screenshot
                </button>
              </div>
            </div>
          ` : ''}
        </div>
        <div class="coin-task-reward">
          ${isCompleted ? '<span class="coin-task-completed">Completed!</span>' : `<span>+${task.reward}</span><span class="coin-icon">ü™ô</span>`}
        </div>
      `;
    } else {
      taskContent = `
        <div class="coin-task-info">
          <div class="coin-task-title">${task.title}</div>
          <div class="coin-task-desc">${task.description}</div>
        </div>
        <div class="coin-task-reward">
          ${isCompleted ? '<span class="coin-task-completed">Completed!</span>' : `<span>+${task.reward}</span><span class="coin-icon">ü™ô</span>`}
        </div>
      `;
    }
    
    taskElement.innerHTML = taskContent;
    coinTaskList.appendChild(taskElement);
  });
}

// Tab switching functionality
coinTabs.forEach(tab => {
  tab.addEventListener('click', () => {
    // Remove active class from all tabs
    coinTabs.forEach(t => t.classList.remove('active'));
    // Add active class to clicked tab
    tab.classList.add('active');
    
    // Show corresponding content
    const tabName = tab.getAttribute('data-tab');
    document.getElementById('tasksTab').classList.toggle('hidden', tabName !== 'tasks');
    document.getElementById('storeTab').classList.toggle('hidden', tabName !== 'store');
  });
});

/* ====== REAL SEARCH FUNCTIONALITY ====== */

// Search Tab Functionality
function setupSearchTabs() {
  const searchOptions = document.querySelectorAll('.search-option');
  
  searchOptions.forEach(option => {
    option.addEventListener('click', function() {
      // Update active tab
      searchOptions.forEach(opt => {
        opt.classList.remove('active');
      });
      this.classList.add('active');
      
      // Set current search type
      currentSearchType = this.getAttribute('data-type');
      
      // Update search placeholder based on type
      if (currentSearchType === 'images') {
        searchInput.placeholder = 'Search for free high-quality images';
      } else if (currentSearchType === 'videos') {
        searchInput.placeholder = 'Search for videos';
      } else if (currentSearchType === 'news') {
        searchInput.placeholder = 'Search for news';
      } else if (currentSearchType === 'maps') {
        searchInput.placeholder = 'Search for maps';
      } else {
        searchInput.placeholder = 'Search the web or type a URL';
      }
    });
  });
}

// Perform Search Function
async function performSearch(query, searchType = currentSearchType) {
  if (!query.trim()) return;
  
  currentQuery = query;
  
  // Update search task progress
  updateTaskProgress('search_10');
  updateTaskProgress('search_50');
  
  // Switch to results page
  homePage.classList.add('hidden');
  resultsPage.classList.remove('hidden');
  
  // Set search query in results page
  resultsSearchInput.value = query;
  
  // Clear previous results
  clearResults();
  
  // Show loading message
  if (searchType === 'web') {
    resultsList.innerHTML = '<div class="loading-spinner"></div><div style="text-align:center">Searching the web...</div>';
    // Real Google Custom Search
    await performGoogleSearch(query);
  } else if (searchType === 'images') {
    updateTaskProgress('image_search');
    imagesResults.innerHTML = '<div class="loading-spinner"></div><div style="text-align:center">Searching for images...</div>';
    // Real Pexels API search
    await performPexelsSearch(query);
  } else if (searchType === 'videos') {
    updateTaskProgress('video_search');
    resultsList.innerHTML = '<div style="padding:20px;text-align:center">Video search coming soon</div>';
  } else if (searchType === 'news') {
    resultsList.innerHTML = '<div style="padding:20px;text-align:center">News search coming soon</div>';
  } else if (searchType === 'maps') {
    updateTaskProgress('maps_search');
    resultsList.innerHTML = '<div style="padding:20px;text-align:center">Maps search coming soon</div>';
  }
}

// Real Google Custom Search
async function performGoogleSearch(query) {
  try {
    const startTime = Date.now();
    const response = await fetch(`https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=${CX_ID}&q=${encodeURIComponent(query)}`);
    
    if (!response.ok) {
      throw new Error('Search failed');
    }
    
    const data = await response.json();
    const endTime = Date.now();
    const searchTime = ((endTime - startTime) / 1000).toFixed(2);
    
    displayWebResults(data, searchTime);
  } catch (error) {
    console.error('Search error:', error);
    resultsList.innerHTML = `
      <div style="padding:20px;text-align:center">
        <h3>Search Error</h3>
        <p>Unable to fetch search results. Please try again later.</p>
        <p><small>Error: ${error.message}</small></p>
      </div>
    `;
  }
}

// Real Pexels Image Search
async function performPexelsSearch(query) {
  try {
    const response = await fetch(`https://api.pexels.com/v1/search?query=${encodeURIComponent(query)}&per_page=20`, {
      headers: {
        'Authorization': PEXELS_API_KEY
      }
    });
    
    if (!response.ok) {
      throw new Error('Image search failed');
    }
    
    const data = await response.json();
    displayImageResults(data);
  } catch (error) {
    console.error('Image search error:', error);
    imagesResults.innerHTML = `
      <div style="padding:20px;text-align:center">
        <h3>Image Search Error</h3>
        <p>Unable to fetch images. Please try again later.</p>
        <p><small>Error: ${error.message}</small></p>
      </div>
    `;
  }
}

// Display Web Results
function displayWebResults(data, searchTime) {
  clearResults();
  
  if (data.searchInformation) {
    resultsInfo.textContent = `About ${data.searchInformation.formattedTotalResults || '0'} results (${searchTime || '0'} seconds)`;
  }
  
  if (Array.isArray(data.items) && data.items.length) {
    data.items.forEach(item => {
      const resultItem = document.createElement('div');
      resultItem.className = 'result-item';
      
      const url = document.createElement('div');
      url.className = 'result-url';
      url.textContent = item.displayLink || '';
      
      const title = document.createElement('a');
      title.className = 'result-title';
      title.href = item.link;
      title.textContent = item.title || '';
      title.target = '_blank';
      
      const snippet = document.createElement('div');
      snippet.className = 'result-snippet';
      snippet.innerHTML = item.htmlSnippet || item.snippet || '';
      
      resultItem.appendChild(url);
      resultItem.appendChild(title);
      resultItem.appendChild(snippet);
      
      resultsList.appendChild(resultItem);
    });
  } else {
    resultsList.innerHTML = '<div style="padding:20px;text-align:center">No results found. Try different keywords.</div>';
  }
}

// Display Image Results
function displayImageResults(data) {
  clearResults();
  
  if (data.total_results > 0) {
    resultsInfo.textContent = `About ${data.total_results} image results`;
    
    // Show images grid
    imagesResults.classList.remove('hidden');
    resultsList.classList.add('hidden');
    
    // Create images grid
    const imagesGrid = document.createElement('div');
    imagesGrid.className = 'images-grid';
    
    data.photos.forEach(photo => {
      const imageCard = document.createElement('div');
      imageCard.className = 'image-card';
      
      imageCard.innerHTML = `
        <img src="${photo.src.medium}" alt="${photo.alt || 'Image'}" loading="lazy">
        <div class="image-info">
          <div class="image-photographer">Photo by ${photo.photographer}</div>
          <a href="${photo.src.original}" class="image-download" target="_blank" download>Download</a>
        </div>
      `;
      
      imagesGrid.appendChild(imageCard);
    });
    
    imagesResults.innerHTML = '';
    imagesResults.appendChild(imagesGrid);
  } else {
    imagesResults.innerHTML = '<div style="padding:20px;text-align:center">No images found. Try different keywords.</div>';
  }
}

// Clear Results
function clearResults() {
  resultsList.innerHTML = '';
  imagesResults.innerHTML = '';
  resultsInfo.textContent = '';
  imagesResults.classList.add('hidden');
  resultsList.classList.remove('hidden');
}

/* ====== NEWS API INTEGRATION ====== */

// News Categories
const NEWS_CATEGORIES = [
  { 
    id: 'general',
    title: 'Top Headlines', 
    image: 'https://images.unsplash.com/photo-1585829365295-ab7cd400c167?w=400&h=200&fit=crop&auto=format'
  },
  { 
    id: 'technology',
    title: 'Technology', 
    image: 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400&h=200&fit=crop&auto=format'
  },
  { 
    id: 'sports',
    title: 'Sports', 
    image: 'https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400&h=200&fit=crop&auto=format'
  },
  { 
    id: 'entertainment',
    title: 'Entertainment', 
    image: 'https://images.unsplash.com/photo-1489599809505-f2fbe5d6f8c1?w=400&h=200&fit=crop&auto=format'
  },
  { 
    id: 'business',
    title: 'Business', 
    image: 'https://images.unsplash.com/photo-1507679799987-c73779587ccf?w=400&h=200&fit=crop&auto=format'
  },
  { 
    id: 'health',
    title: 'Health', 
    image: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=200&fit=crop&auto=format'
  }
];

// Load Discover News
async function loadDiscover() {
  discoverGrid.innerHTML = '';
  
  for (const category of NEWS_CATEGORIES) {
    try {
      // Simulate API call - Replace with actual news API
      const articles = await simulateNewsFetch(category.id);
      const article = articles[0] || null;
      
      const card = document.createElement('div');
      card.className = 'discover-card';
      
      if (article) {
        card.innerHTML = `
          <img src="${article.image || category.image}" alt="${escapeHtml(category.title)}" class="discover-card-image" onerror="this.src='${category.image}'">
          <div class="discover-card-content">
            <div class="discover-card-title">${escapeHtml(article.title || category.title)}</div>
            <div class="discover-card-desc">${escapeHtml((article.description || 'Latest updates in this category').substring(0, 80))}...</div>
            <div class="discover-card-source">${escapeHtml(article.source?.name || 'News Source')}</div>
          </div>
        `;
        
        card.addEventListener('click', () => {
          // Update news read task progress
          updateTaskProgress('news_read');
          updateTaskProgress('news_read_20');
          updateTaskProgress('discover_click');
          updateTaskProgress('discover_click_10');
          
          if (article.url) {
            window.open(article.url, '_blank');
          }
        });
      } else {
        card.innerHTML = `
          <img src="${category.image}" alt="${escapeHtml(category.title)}" class="discover-card-image">
          <div class="discover-card-content">
            <div class="discover-card-title">${escapeHtml(category.title)}</div>
            <div class="discover-card-desc">Stay updated with latest news in this category</div>
          </div>
        `;
      }
      
      discoverGrid.appendChild(card);
    } catch (error) {
      const card = document.createElement('div');
      card.className = 'discover-card';
      card.innerHTML = `
        <img src="${category.image}" alt="${escapeHtml(category.title)}" class="discover-card-image">
        <div class="discover-card-content">
          <div class="discover-card-title">${escapeHtml(category.title)}</div>
          <div class="discover-card-desc">Latest news and updates</div>
        </div>
      `;
      discoverGrid.appendChild(card);
    }
  }
}

// Simulate News Fetch - Replace with actual API
function simulateNewsFetch(category) {
  return new Promise((resolve) => {
    setTimeout(() => {
      const sampleArticles = {
        general: [
          {
            title: "Breaking: Major Global Summit Concludes",
            description: "World leaders reach agreement on climate change initiatives",
            image: "https://images.unsplash.com/photo-1585829365295-ab7cd400c167?w=400&h=200&fit=crop&auto=format",
            source: { name: "Global News" },
            url: "#"
          }
        ],
        technology: [
          {
            title: "New AI Breakthrough Announced",
            description: "Revolutionary artificial intelligence system demonstrates unprecedented capabilities",
            image: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400&h=200&fit=crop&auto=format",
            source: { name: "Tech Daily" },
            url: "#"
          }
        ],
        sports: [
          {
            title: "Championship Finals This Weekend",
            description: "Top teams prepare for the ultimate showdown in national championship",
            image: "https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400&h=200&fit=crop&auto=format",
            source: { name: "Sports Network" },
            url: "#"
          }
        ],
        entertainment: [
          {
            title: "Award Show Highlights",
            description: "Celebrities gather for annual entertainment awards ceremony",
            image: "https://images.unsplash.com/photo-1489599809505-f2fbe5d6f8c1?w=400&h=200&fit=crop&auto=format",
            source: { name: "Entertainment Weekly" },
            url: "#"
          }
        ],
        business: [
          {
            title: "Stock Market Reaches New High",
            description: "Major indices show significant growth in quarterly reports",
            image: "https://images.unsplash.com/photo-1507679799987-c73779587ccf?w=400&h=200&fit=crop&auto=format",
            source: { name: "Business Times" },
            url: "#"
          }
        ],
        health: [
          {
            title: "Medical Research Breakthrough",
            description: "New treatment shows promising results in clinical trials",
            image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=200&fit=crop&auto=format",
            source: { name: "Health Journal" },
            url: "#"
          }
        ]
      };
      
      resolve(sampleArticles[category] || []);
    }, 500);
  });
}

/* ====== EVENT LISTENERS ====== */

// Search functionality
searchBtn.addEventListener('click', () => {
  performSearch(searchInput.value);
});

searchInput.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') {
    performSearch(searchInput.value);
  }
});

resultsSearchInput.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') {
    performSearch(resultsSearchInput.value);
  }
});

// Back button functionality
backBtn.addEventListener('click', () => {
  resultsPage.classList.add('hidden');
  homePage.classList.remove('hidden');
});

// Coin tasks modal
coinTasksLink.addEventListener('click', (e) => {
  e.preventDefault();
  coinModal.classList.add('open');
  renderCoinTasks();
});

resultsCoinTasksLink.addEventListener('click', (e) => {
  e.preventDefault();
  coinModal.classList.add('open');
  renderCoinTasks();
});

coinModalClose.addEventListener('click', () => {
  coinModal.classList.remove('open');
});

// Coin display click to open modal
coinDisplay.addEventListener('click', () => {
  coinModal.classList.add('open');
  renderCoinTasks();
});

if (resultsCoinDisplay) {
  resultsCoinDisplay.addEventListener('click', () => {
    coinModal.classList.add('open');
    renderCoinTasks();
  });
}

// Screenshot upload functionality
document.addEventListener('DOMContentLoaded', function() {
  const uploadArea = document.getElementById('uploadArea');
  const screenshotInput = document.getElementById('screenshotInput');
  const uploadPreview = document.getElementById('uploadPreview');
  const confirmUpload = document.getElementById('confirmUpload');
  const cancelUpload = document.getElementById('cancelUpload');
  const screenshotModalClose = document.getElementById('screenshotModalClose');
  
  if (uploadArea) {
    // Click to upload
    uploadArea.addEventListener('click', () => {
      screenshotInput.click();
    });
    
    // File input change
    screenshotInput.addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          uploadPreview.src = e.target.result;
          uploadPreview.style.display = 'block';
          confirmUpload.disabled = false;
        };
        reader.readAsDataURL(file);
      }
    });
    
    // Confirm upload
    confirmUpload.addEventListener('click', function() {
      if (currentScreenshotTask) {
        handleScreenshotUpload(currentScreenshotTask.taskId);
      }
    });
    
    // Cancel upload
    cancelUpload.addEventListener('click', function() {
      document.getElementById('screenshotModal').classList.remove('open');
      currentScreenshotTask = null;
    });
    
    // Close modal
    screenshotModalClose.addEventListener('click', function() {
      document.getElementById('screenshotModal').classList.remove('open');
      currentScreenshotTask = null;
    });
  }
});

// Voice search
voiceSearch.addEventListener('click', () => {
  updateTaskProgress('voice_search');
  alert('Voice search activated! Speak now...');
});

// Image search
imageSearch.addEventListener('click', () => {
  updateTaskProgress('image_search');
  alert('Image search feature activated!');
});

// I'm Feeling Lucky button
document.querySelector('.lucky-btn').addEventListener('click', () => {
  updateTaskProgress('lucky_feeling');
  alert('I\'m Feeling Lucky feature activated!');
});

// Menu functionality
menuToggle.addEventListener('click', () => {
  menuModal.classList.add('open');
});

if (resultsMenuToggle) {
  resultsMenuToggle.addEventListener('click', () => {
    menuModal.classList.add('open');
  });
}

menuClose.addEventListener('click', () => {
  menuModal.classList.remove('open');
});

/* ====== UTILITY FUNCTIONS ====== */

function escapeHtml(s){ 
  return (s||'').toString().replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); 
}

/* ====== INITIALIZATION ====== */

// Initialize search tabs
setupSearchTabs();

// Initialize coin system
updateCoinDisplay();
checkDailyLogin();

// Load discover content when page loads
loadDiscover();

// Add coin animation CSS
const coinAnimationStyle = document.createElement('style');
coinAnimationStyle.textContent = `
  @keyframes coinPop {
    0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
    100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
  }
`;
document.head.appendChild(coinAnimationStyle);

// Initialize tasks on page load
renderCoinTasks();
</script>
</body>
</html>